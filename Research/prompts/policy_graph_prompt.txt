
Base Header
- You are a senior coding agent working in this repo at the current working directory.
- Keep changes minimal, deterministic, and Windows-first.
- Reuse existing CLI/API/file contracts; do not break public interfaces.
- Validate via tests and local commands; avoid network in tests.
- Acceptance: all existing tests pass + new tests pass + commands run.

Goal
- Extend EAR ontology with policy-graph logic and enforce SHACL/temporal constraints.

Scope
- - Add node/edge vocab per outline; document in ontology
- Author SHACL shapes for obligations/exceptions/conditions
- Implement temporal constraint checks (EffectiveDate windows)
- Emit provenance links to spans and hashes

Key files
- earCrawler/kg/ontology.py:1
- earCrawler/kg/shapes.ttl:1
- earCrawler/kg/shapes_prov.ttl:1
- earCrawler/kg/validate.py:1
- earCrawler/kg/emit_ear.py:1

Deliverables
- - Updated ontology+shapes
- Tests for SHACL/temporal

Acceptance criteria
- - Shapes validate fixture TTL; negative tests fail
- Temporal windows enforced in validation
- Ontology documented; no contract breaks

Validation commands
- `pytest -q tests/kg`
- `py -m earCrawler.cli integrity check kg/ear.ttl`

Non-goals
- - Model training
- API surface changes
